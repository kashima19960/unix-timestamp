<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unix 时间戳转换器</title>
    <link rel="stylesheet" href="styles.css">
    <!-- Prism.js CSS for syntax highlighting -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" />
</head>

<body>
    <header class="header">
        <h1 data-i18n="app.title">Unix 时间戳转换器</h1>
        <div class="header-controls">
            <button id="knowledgeBtn" class="icon-btn" data-i18n-title="header.knowledge" title="知识中心">📚</button>
            <button id="codeBtn" class="icon-btn" data-i18n-title="header.code" title="代码示例">💻</button>
            <button id="languageToggle" class="icon-btn" data-i18n-title="header.language" title="切换语言">🌐</button>
            <button id="themeToggle" class="icon-btn" data-i18n-title="header.theme" title="切换主题">☀️</button>
        </div>
    </header>

    <main class="main">
        <!-- 当前时间模块 -->
        <section class="current-time">
            <div class="current-time-header">
                <h2 data-i18n="current.title">当前时间</h2>
                <button id="pauseBtn" class="pause-btn" data-i18n-title="current.pause" title="暂停时间更新">⏸️</button>
            </div>
            <div class="time-display">
                <div class="time-item">
                    <label data-i18n="current.timestamp_sec">Unix 时间戳 (秒)</label>
                    <div class="time-value" id="currentTimestamp"></div>
                </div>
                <div class="time-item">
                    <label data-i18n="current.timestamp_ms">Unix 时间戳 (毫秒)</label>
                    <div class="time-value" id="currentTimestampMs"></div>
                </div>
                <div class="time-item">
                    <label data-i18n="current.local_time">本地时间</label>
                    <div class="time-value" id="currentLocalTime"></div>
                </div>
                <div class="time-item">
                    <label data-i18n="current.utc_time">UTC 时间</label>
                    <div class="time-value" id="currentUtcTime"></div>
                </div>
            </div>
        </section>

        <!-- 主转换器 -->
        <section class="converter">
            <div class="tabs">
                <button class="tab active" data-tab="smart" data-i18n="tabs.smart">智能转换</button>
                <button class="tab" data-tab="batch" data-i18n="tabs.batch">批量转换</button>
            </div>

            <!-- 智能转换标签页 -->
            <div id="smartTab" class="tab-content active">
                <div class="input-group">
                    <label for="smartInput" data-i18n="smart.input_label">输入时间戳或日期字符串</label>
                    <input type="text" id="smartInput" data-i18n-placeholder="smart.input_placeholder" placeholder="例如: 1735689600 或 2025-01-01 08:00:00">
                    <div class="input-hint" id="smartHint"></div>
                </div>

                <div class="format-selector">
                    <label for="formatSelect" data-i18n="smart.format_label">输出格式</label>
                    <select id="formatSelect">
                        <option value="default" data-i18n="smart.format_default">默认格式</option>
                        <option value="iso" data-i18n="smart.format_iso">ISO 8601</option>
                        <option value="rfc" data-i18n="smart.format_rfc">RFC 2822</option>
                        <option value="local-long" data-i18n="smart.format_long">本地化长日期</option>
                        <option value="local-short" data-i18n="smart.format_short">本地化短日期</option>
                    </select>
                </div>

                <div class="output-grid">
                    <div class="output-item">
                        <label data-i18n="smart.local_time">本地时间</label>
                        <div class="output-value" id="localTimeOutput"></div>
                        <button class="copy-btn" data-copy="localTimeOutput" data-i18n="smart.copy">复制</button>
                    </div>
                    <div class="output-item">
                        <label data-i18n="smart.utc_time">UTC 时间</label>
                        <div class="output-value" id="utcTimeOutput"></div>
                        <button class="copy-btn" data-copy="utcTimeOutput" data-i18n="smart.copy">复制</button>
                    </div>
                    <div class="output-item">
                        <label data-i18n="smart.timestamp_sec">时间戳 (秒)</label>
                        <div class="output-value" id="timestampSecOutput"></div>
                        <button class="copy-btn" data-copy="timestampSecOutput" data-i18n="smart.copy">复制</button>
                    </div>
                    <div class="output-item">
                        <label data-i18n="smart.timestamp_ms">时间戳 (毫秒)</label>
                        <div class="output-value" id="timestampMsOutput"></div>
                        <button class="copy-btn" data-copy="timestampMsOutput" data-i18n="smart.copy">复制</button>
                    </div>
                </div>
            </div>

            <!-- 批量转换标签页 -->
            <div id="batchTab" class="tab-content">
                <div class="batch-container">
                    <div class="batch-input">
                        <label for="batchInput" data-i18n="batch.input_label">输入时间戳（每行一个）</label>
                        <textarea id="batchInput" data-i18n-placeholder="batch.input_placeholder" placeholder="1735689600&#10;1735776000&#10;1735862400000"></textarea>
                        <button id="batchConvert" class="convert-btn" data-i18n="batch.convert">批量转换</button>
                    </div>
                    <div class="batch-output">
                        <label for="batchOutput" data-i18n="batch.output_label">转换结果</label>
                        <textarea id="batchOutput" readonly></textarea>
                        <button class="copy-btn" data-copy="batchOutput" data-i18n="batch.copy_all">复制全部</button>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- 知识中心模态框 -->
    <div id="knowledgeModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 data-i18n="modal.title">知识中心</h2>
                <button class="close-btn">&times;</button>
            </div>
            <div class="modal-tabs">
                <button class="modal-tab active" data-modal-tab="concepts" data-i18n="modal.concepts">核心概念</button>
                <button class="modal-tab" data-modal-tab="examples" data-i18n="modal.examples">代码示例</button>
            </div>
            <div class="modal-body">
                <div id="conceptsTab" class="modal-tab-content active">
                    <div class="knowledge-section">
                        <h3 data-i18n="concepts.unix_title">Unix时间戳 - 时间的数字化表示</h3>
                        <div class="concept-detail">
                            <p data-i18n="concepts.unix_desc">Unix时间戳（Unix Timestamp），也称为POSIX时间戳或Epoch时间，是从1970年1月1日00:00:00 UTC（协调世界时）开始所经过的秒数。这个起点被称为"Unix纪元"（Unix Epoch）。</p>
                            
                            <div class="technical-details">
                                <h4 data-i18n="concepts.unix_details_title">技术细节</h4>
                                <ul>
                                    <li data-i18n="concepts.unix_detail_1"><strong>精度范围：</strong>标准32位系统支持1970年至2038年（Y2038问题），64位系统可支持数十亿年</li>
                                    <li data-i18n="concepts.unix_detail_2"><strong>单位变化：</strong>传统为秒，现代系统常用毫秒（13位）、微秒（16位）或纳秒（19位）</li>
                                    <li data-i18n="concepts.unix_detail_3"><strong>存储格式：</strong>通常为有符号整数，负值表示1970年之前的时间</li>
                                    <li data-i18n="concepts.unix_detail_4"><strong>时区无关：</strong>本质上是UTC时间，显示时需要根据时区进行转换</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="knowledge-section">
                        <h3 data-i18n="concepts.history_title">历史背景与发展</h3>
                        <div class="concept-detail">
                            <div class="timeline">
                                <div class="timeline-item">
                                    <span class="timeline-date">1969</span>
                                    <p data-i18n="concepts.history_1969">Unix操作系统诞生，需要统一的时间表示方法</p>
                                </div>
                                <div class="timeline-item">
                                    <span class="timeline-date">1970</span>
                                    <p data-i18n="concepts.history_1970">确定1970年1月1日为Unix纪元起点，便于计算机处理</p>
                                </div>
                                <div class="timeline-item">
                                    <span class="timeline-date">1988</span>
                                    <p data-i18n="concepts.history_1988">IEEE 1003.1标准化Unix时间戳格式</p>
                                </div>
                                <div class="timeline-item">
                                    <span class="timeline-date">2038</span>
                                    <p data-i18n="concepts.history_2038">32位系统面临Y2038问题，需要升级到64位</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="knowledge-section">
                        <h3 data-i18n="concepts.formats_title">时间戳格式详解</h3>
                        <div class="concept-detail">
                            <div class="format-comparison">
                                <div class="format-item">
                                    <h4 data-i18n="concepts.format_seconds">秒级时间戳（10位）</h4>
                                    <p data-i18n="concepts.format_seconds_desc">标准Unix时间戳，范围：1970-2038年</p>
                                    <code>1735689600</code>
                                </div>
                                <div class="format-item">
                                    <h4 data-i18n="concepts.format_milliseconds">毫秒级时间戳（13位）</h4>
                                    <p data-i18n="concepts.format_milliseconds_desc">JavaScript等语言常用，提供毫秒精度</p>
                                    <code>1735689600000</code>
                                </div>
                                <div class="format-item">
                                    <h4 data-i18n="concepts.format_microseconds">微秒级时间戳（16位）</h4>
                                    <p data-i18n="concepts.format_microseconds_desc">数据库和高精度应用使用</p>
                                    <code>1735689600000000</code>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="knowledge-section">
                        <h3 data-i18n="concepts.utc_title">UTC、GMT与时区系统</h3>
                        <div class="concept-detail">
                            <div class="time-standards">
                                <div class="standard-item">
                                    <h4 data-i18n="concepts.utc_standard">UTC (协调世界时)</h4>
                                    <p data-i18n="concepts.utc_desc">基于原子钟的现代时间标准，是Unix时间戳的基准。不受夏令时影响，全球统一。</p>
                                </div>
                                <div class="standard-item">
                                    <h4 data-i18n="concepts.gmt_standard">GMT (格林威治标准时间)</h4>
                                    <p data-i18n="concepts.gmt_desc">历史上的时间标准，基于地球自转。在民用场合与UTC几乎相同，但科学应用中已被UTC取代。</p>
                                </div>
                            </div>
                            
                            <div class="timezone-explanation">
                                <h4 data-i18n="concepts.timezone_system">时区系统原理</h4>
                                <p data-i18n="concepts.timezone_desc">地球被分为24个时区，每个时区相差15度经度（1小时）。时区偏移以UTC为基准表示：</p>
                                <ul>
                                    <li data-i18n="concepts.timezone_example_1"><strong>UTC+8：</strong>中国标准时间、新加坡时间</li>
                                    <li data-i18n="concepts.timezone_example_2"><strong>UTC-5：</strong>美国东部标准时间</li>
                                    <li data-i18n="concepts.timezone_example_3"><strong>UTC+0：</strong>英国标准时间（冬季）</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="knowledge-section">
                        <h3 data-i18n="concepts.challenges_title">技术挑战与解决方案</h3>
                        <div class="concept-detail">
                            <div class="challenge-item">
                                <h4 data-i18n="concepts.y2038_title">Y2038问题</h4>
                                <p data-i18n="concepts.y2038_desc">32位系统在2038年1月19日03:14:07 UTC后会发生整数溢出，解决方案是升级到64位系统。</p>
                            </div>
                            
                            <div class="challenge-item">
                                <h4 data-i18n="concepts.leap_title">闰秒处理</h4>
                                <p data-i18n="concepts.leap_desc">由于地球自转不规律，国际地球自转和参考系统服务会不定期添加闰秒。Unix时间戳通常忽略闰秒，保持连续性。</p>
                            </div>
                            
                            <div class="challenge-item">
                                <h4 data-i18n="concepts.dst_title">夏令时处理</h4>
                                <p data-i18n="concepts.dst_desc">夏令时会改变本地时间与UTC的偏移量。Unix时间戳基于UTC，不受夏令时影响，但转换为本地时间时需要考虑。</p>
                            </div>
                        </div>
                    </div>

                    <div class="knowledge-section">
                        <h3 data-i18n="concepts.best_practices_title">最佳实践与建议</h3>
                        <div class="concept-detail">
                            <div class="practices-grid">
                                <div class="practice-item">
                                    <h4 data-i18n="concepts.practice_storage">存储建议</h4>
                                    <ul>
                                        <li data-i18n="concepts.practice_storage_1">数据库中始终存储UTC时间戳</li>
                                        <li data-i18n="concepts.practice_storage_2">使用64位整数避免Y2038问题</li>
                                        <li data-i18n="concepts.practice_storage_3">根据需求选择秒级或毫秒级精度</li>
                                    </ul>
                                </div>
                                <div class="practice-item">
                                    <h4 data-i18n="concepts.practice_conversion">转换建议</h4>
                                    <ul>
                                        <li data-i18n="concepts.practice_conversion_1">显示时再转换为用户时区</li>
                                        <li data-i18n="concepts.practice_conversion_2">使用标准库进行时区转换</li>
                                        <li data-i18n="concepts.practice_conversion_3">避免手动计算时区偏移</li>
                                    </ul>
                                </div>
                                <div class="practice-item">
                                    <h4 data-i18n="concepts.practice_api">API设计建议</h4>
                                    <ul>
                                        <li data-i18n="concepts.practice_api_1">使用ISO 8601格式进行数据交换</li>
                                        <li data-i18n="concepts.practice_api_2">明确指定时间戳的单位和时区</li>
                                        <li data-i18n="concepts.practice_api_3">提供多种格式的时间表示</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="knowledge-section">
                        <h3 data-i18n="concepts.common_issues_title">常见问题与解答</h3>
                        <div class="concept-detail">
                            <div class="faq-item">
                                <h4 data-i18n="concepts.faq_negative">为什么有负数时间戳？</h4>
                                <p data-i18n="concepts.faq_negative_answer">负数时间戳表示1970年1月1日之前的时间。例如-86400表示1969年12月31日00:00:00 UTC。</p>
                            </div>
                            <div class="faq-item">
                                <h4 data-i18n="concepts.faq_precision">如何选择时间戳精度？</h4>
                                <p data-i18n="concepts.faq_precision_answer">秒级适用于日常应用，毫秒级适用于实时系统，微秒级适用于高频交易，纳秒级适用于科学计算。</p>
                            </div>
                            <div class="faq-item">
                                <h4 data-i18n="concepts.faq_float">为什么有小数时间戳？</h4>
                                <p data-i18n="concepts.faq_float_answer">小数部分表示亚秒精度。例如1735689600.500表示额外的500毫秒。</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div id="examplesTab" class="modal-tab-content">
                    <h3 data-i18n="examples.title">获取当前Unix时间戳的代码示例</h3>
                    <div class="code-examples" id="codeExamples">
                        <!-- 代码示例将由JavaScript动态生成 -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <footer class="footer">
        <p data-i18n="footer.copyright">&copy; 2025 MRZ | Client-side Tool for Developers</p>
    </footer>

    <!-- Prism.js core and language modules -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="script.js"></script>
</body>

</html>